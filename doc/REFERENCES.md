# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`dockerapp_wso2is`](#dockerapp_wso2is): This class installs the wso2 identity server using docker

## Classes

### dockerapp_wso2is

This class installs the wso2 identity server using docker

#### Examples

##### 

```puppet
include dockerapp_wso2is
```

#### Parameters

The following parameters are available in the `dockerapp_wso2is` class.

##### `service_name`

Data type: `String`

The name of the container

Default value: 'wso2is'

##### `version`

Data type: `String`

The version of the docker image do download

Default value: '5.8.0'

##### `ports`

Data type: `Array`

The port mapping in array format

Default value: ['9443:9443','9763:9763', '9999:9999', '4000:4000', '7612:7612', '7712:7712', '9612:9612', '9712:9712']

##### `dropins`

Data type: `Array`

A list of download urls to get extra dopins needed they must be jar files and
use the format http(s)://url.com/dir1/dir2/filename-0.1.1.jar

Default value: []

##### `db_type`

Data type: `String`

Determines if the database is embeded, external
embeded is the default

Default value: 'embeded'

##### `db_dbms`

Data type: `String`

Choosed the database management system to use
Supported options are mssql and mysql

Default value: 'mssql'

##### `db_jdbc_driver`

Data type: `String`

The url to download the jdbc driver of the dbms choosen. It must be a jar file

Default value: ''

##### `db_hostname`

Data type: `String`

The database server fqdn or ip address.

Default value: ''

##### `db_port`

Data type: `Integer`

The database server port.

Default value: 1433

##### `db_name`

Data type: `String`

The shema of the database

Default value: ''

##### `db_create_db`

Data type: `Boolean`

If puppet should create the database or not

Default value: `false`

##### `use_ccm`

Data type: `Boolean`

If you use ccm to store database passwords

Default value: `false`

##### `ccm_srvc`

Data type: `String`

The srvc record to locate the ccm server

Default value: ''

##### `ccm_app_key`

Data type: `String`

The app key to be used on the ccm server

Default value: ''

##### `ccm_environment`

Data type: `String`

The ccm environment to call the values

Default value: ''

##### `db_db_owner_login`

Data type: `String`

The login of the database owner user

Default value: ''

##### `db_db_owner_password`

Data type: `String`

The password of the database owner user

Default value: ''

##### `db_db_owner_pwd_ccm_key`

Data type: `String`

The ccm key to the db ower password

Default value: ''

##### `db_db_user_login`

Data type: `String`

A login for a database user (not owner)

Default value: ''

##### `db_db_user_password`

Data type: `String`

A password for a database user (not owner)

Default value: ''

##### `db_db_user_pwd_ccm_key`

Data type: `String`

The ccm key for the db user password

Default value: ''

##### `create_super_admin`

Data type: `Boolean`

If we are goind to create an admin account

Default value: `false`

##### `adm_user`

Data type: `String`

The initial system admin account

Default value: 'admin'

##### `adm_pwd`

Data type: `String`

The initial system admin account password

Default value: 'secret'

##### `adm_role`

Data type: `String`

The initial system admin role

Default value: 'wso2isadmin'

##### `use_external_auth_app`

Data type: `Boolean`

If wso2is should use an external auth app to display the login page

Default value: `false`

##### `external_auth_endpoint`

Data type: `String`

The url to the external auth endpoint

Default value: ''

##### `external_auth_endpoint_retry`

Data type: `String`

The url to the external auth endpoint retry page

Default value: ''

##### `external_auth_endpoint_claims`

Data type: `String`

The url to the external auth endpoint claims page

Default value: ''

##### `enable_ha`

Data type: `Boolean`

This paramenter allows the changes needed to enable a high avaliability setup

Default value: `false`

##### `ha_cluster_name`

Data type: `String`

The name of the ha cluster

Default value: 'wso2cluster'

##### `alternate_deployment_dir`

Data type: `String`

An alternate deployment dir to be mounted in case of need

Default value: ''

##### `alternate_tenants_dir`

Data type: `String`

An alternate tenants dir to be mounted in case of need

Default value: ''

##### `use_alternate_dirs`

Data type: `Boolean`

Enable or disable the use of alternate dirs

Default value: `false`

##### `use_active_directory`

Data type: `Boolean`

If we are using Active Directory as our primary user store

Default value: `false`

##### `ad_server`

Data type: `String`

The active directory server (PDC is prefered)

Default value: ''

##### `ad_use_secundary`

Data type: `Boolean`

If there is a secundary active directory server (for fail over)

Default value: `false`

##### `ad_secundary_server`

Data type: `String`

The secundary active directory server

Default value: ''

##### `ad_secundary_port`

Data type: `String`

The secundary active directory port (636)

Default value: '636'

##### `ad_port`

Data type: `String`

The active directory port (636)

Default value: '636'

##### `ad_use_ssl`

Data type: `Boolean`

If the connection to active directory uses ssl

Default value: `true`

##### `ad_service_user`

Data type: `String`

The CN of the active directory service user

Default value: ''

##### `ad_service_pwd`

Data type: `String`

The password of the active directory service user

Default value: ''

##### `ad_user_search_base`

Data type: `String`

The base OU to search the users

Default value: ''

##### `ad_group_search_base`

Data type: `String`

The base OU to search the groups

Default value: ''

##### `ad_user_name_search_filter`

Data type: `String`

The search filter for users on AD

Default value: '(sAMAccountName=?)'

##### `ad_user_name_list_filter`

Data type: `String`

The list filter for users on AD

Default value: '(&amp;(objectClass=user)(!(sn=Service)))'

##### `ad_group_name_search_filter`

Data type: `String`

The search filter for groups on AD

Default value: '(&amp;(objectClass=group)(cn=?))'

##### `ad_group_name_list_filter`

Data type: `String`

The list filter for groups on AD

Default value: '(objectcategory=group)'

##### `master_log_level`

Data type: `String`

The wso2 master log level default = INFO

Default value: 'INFO'

##### `authentication_log_level`

Data type: `String`

The wso2 authentication log level default = INFO

Default value: 'INFO'

##### `identity_log_level`

Data type: `String`

The wso2 identity log level default = INFO

Default value: 'INFO'

##### `scim_log_level`

Data type: `String`

The wso2 SCIM log level default = INFO

Default value: 'INFO'

##### `oauth_log_level`

Data type: `String`

The wso2 OAUTH log level default = INFO

Default value: 'INFO'

##### `identity_mgmt_log_level`

Data type: `String`

The wso2 identity management log level default = INFO

Default value: 'INFO'

##### `pwd_java_regex`

Data type: `String`

The java regex to validate passwords

Default value: '[a-zA-Z0-9._\-|//]{3,30}$'

##### `pwd_java_script_regex`

Data type: `String`

The java script regex to validate passwords

Default value: '^[\S]{5,30}$'

##### `pwd_violation_msg`

Data type: `String`

The error message to be shown when the validaton fails

Default value: 'Password length should be within 5 to 30 characters'

##### `extra_trust_certs`

Data type: `Array`

Extra certificates urls to download and trust

Default value: []

##### `cors_domains`

Data type: `Array`

List of domains to accept in cors

Default value: []

##### `enable_scim`

Data type: `Boolean`

Enables or disables scim api

Default value: `false`

##### `timezone`

Data type: `String`

The container timezone

Default value: 'America/Sao_Paulo'

##### `send_mail`

Data type: `Boolean`

If the server is to send e-mails

Default value: `false`

##### `mail_authenticate`

Data type: `Boolean`

If the email server needs authentication

Default value: `false`

##### `mail_use_tls`

Data type: `Boolean`

If the email server users tls on the transport

Default value: `true`

##### `mail_user`

Data type: `String`

The email server authentication user

Default value: 'user'

##### `ad_user_entry_object_class`

Data type: `String`

The user class in active directory

Default value: 'user'

##### `mail_password`

Data type: `String`

The email server authentication password

Default value: 'password'

##### `mail_from`

Data type: `String`

The from of the sent email

Default value: 'no@mail.com'

##### `mail_host`

Data type: `String`

The email server host

Default value: 'smtp.mail.com'

##### `pwd_min_lenght`

Data type: `Integer`

The minimum lenght of the password (used in scim)

Default value: 5

##### `pwd_max_lenght`

Data type: `Integer`

The maximum lenght of the password (used in scim)

Default value: 30

##### `mail_port`

Data type: `String`

The email service port

Default value: '587'

##### `auth_password_recovery`

Data type: `Boolean`

If the rest api to auth_password_recovery should be authenticated

Default value: `true`

##### `oauth_endpoint_oidc_consent_page`

Data type: `String`

(optional)
The page to redirect the consent request

Default value: ''

##### `oauth_endpoint_oauth2_consent_page`

Data type: `String`

(optional)
The page to redirect the oauth2 consent request

Default value: ''

##### `oauth_endpoint_oauth2_error_page`

Data type: `String`

(optional)
The page to redirect in case of errors

Default value: ''

##### `oauth_endpoint_oidc_logout_consent_page`

Data type: `String`

(optional)
The page to redirect to do the logout

Default value: ''

##### `oauth_endpoint_oidc_logout_page`

Data type: `String`

(optional)
The page to redirect to do the logout

Default value: ''

##### `ha_members`

Data type: `Array`

(optional)
The list of ha members in the cluster

Default value: ['127.0.0.1']

##### `is_fqdn`

Data type: `String`

(optional)
The identity server FQDN

Default value: $fqdn

##### `ad_service_ccm_key`

Data type: `String`

(optional)
The ccm key used for active directory service account

Default value: ''

##### `enable_soap`

Data type: `Boolean`

If the soap services should be enabled

Default value: `true`

